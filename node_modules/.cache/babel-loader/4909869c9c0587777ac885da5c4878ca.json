{"ast":null,"code":"import _slicedToArray from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import{useLocation}from\"react-router\";import{useDispatch,useSelector}from\"react-redux\";import{Sidebar,Preloader,Alerts}from\"../\";import bg from\"../../assets/img/background.png\";import{hidePreloaderAction,showPreloaderAction}from\"../../store/preloaderReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Block=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nposition: relative;\\ndisplay: flex;\\nalign-items: stretch;\\nmin-height: 100vh;\\nbackground-color: var(--gray800);\\ncolor: var(--gray100);\\n\"])));var Content=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nposition: relative;\\nflex-grow: 100;\\nbackground-image: url(\",\");\\nbackground-size: cover;\\nbackground-attachment: fixed;\\noverflow: hidden;\\nanimation: var(--showOpacityFast);\\n\"])),bg);export default function PageWrapper(props){var dispatch=useDispatch();var preloaderVisible=useSelector(function(state){return state.preloader.isVisible;});var preloaderExist=useSelector(function(state){return state.preloader.isExist;});var _useState=useState(null),_useState2=_slicedToArray(_useState,2),preloaderTimer=_useState2[0],setPreloaderTimer=_useState2[1];var location=useLocation();useEffect(function(){showPreloader();function showPreloader(){if(!preloaderVisible&&preloaderExist)return;dispatch(showPreloaderAction());clearInterval(preloaderTimer);setPreloaderTimer(setTimeout(function(){return dispatch(hidePreloaderAction());},1400));}},[location]);return/*#__PURE__*/_jsxs(Block,{children:[!props.sidebarOff&&/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(Content,{children:[props.children,preloaderExist&&/*#__PURE__*/_jsx(Preloader,{position:\"absolute\",screenFixed:true})]}),/*#__PURE__*/_jsx(Alerts,{})]});}","map":{"version":3,"names":["React","useEffect","useState","styled","useLocation","useDispatch","useSelector","Sidebar","Preloader","Alerts","bg","hidePreloaderAction","showPreloaderAction","Block","div","Content","PageWrapper","props","dispatch","preloaderVisible","state","preloader","isVisible","preloaderExist","isExist","preloaderTimer","setPreloaderTimer","location","showPreloader","clearInterval","setTimeout","sidebarOff","children"],"sources":["D:/Repositories/portfolio-website/src/components/pageWrapper/index.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useLocation } from \"react-router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Sidebar, Preloader, Alerts } from \"../\";\r\nimport bg from \"../../assets/img/background.png\";\r\nimport { hidePreloaderAction, showPreloaderAction } from \"../../store/preloaderReducer\";\r\n\r\n\r\nconst Block = styled.div`\r\nposition: relative;\r\ndisplay: flex;\r\nalign-items: stretch;\r\nmin-height: 100vh;\r\nbackground-color: var(--gray800);\r\ncolor: var(--gray100);\r\n`\r\nconst Content = styled.div`\r\nposition: relative;\r\nflex-grow: 100;\r\nbackground-image: url(${bg});\r\nbackground-size: cover;\r\nbackground-attachment: fixed;\r\noverflow: hidden;\r\nanimation: var(--showOpacityFast);\r\n`\r\n\r\n\r\n\r\nexport default function PageWrapper(props){\r\n    const dispatch = useDispatch();\r\n    const preloaderVisible = useSelector(state => state.preloader.isVisible);\r\n    const preloaderExist = useSelector(state => state.preloader.isExist);\r\n    const [preloaderTimer, setPreloaderTimer] = useState(null);\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        showPreloader()\r\n\r\n        function showPreloader(){\r\n            if(!preloaderVisible && preloaderExist) return;\r\n            dispatch(showPreloaderAction());\r\n\r\n            clearInterval(preloaderTimer);\r\n            setPreloaderTimer(setTimeout(() => dispatch(hidePreloaderAction()), 1400));\r\n        }\r\n    }, [location])\r\n\r\n    return (\r\n        <Block>\r\n            {!props.sidebarOff && <Sidebar />}\r\n            <Content>\r\n                {props.children}\r\n                {preloaderExist && (\r\n                    <Preloader\r\n                        position=\"absolute\"\r\n                        screenFixed={true}\r\n                    />\r\n                )}\r\n            </Content>\r\n            <Alerts />\r\n        </Block>\r\n    )\r\n}"],"mappings":"mSAAA,MAAOA,MAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,MAAOC,OAAM,KAAM,mBAAmB,CACtC,OAASC,WAAW,KAAQ,cAAc,CAC1C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,CAAEC,SAAS,CAAEC,MAAM,KAAQ,KAAK,CAChD,MAAOC,GAAE,KAAM,iCAAiC,CAChD,OAASC,mBAAmB,CAAEC,mBAAmB,KAAQ,8BAA8B,CAAC,wFAGxF,GAAMC,MAAK,CAAGV,MAAM,CAACW,GAAG,8MAOvB,CACD,GAAMC,QAAO,CAAGZ,MAAM,CAACW,GAAG,uPAGFJ,EAAE,CAKzB,CAID,cAAe,SAASM,YAAW,CAACC,KAAK,CAAC,CACtC,GAAMC,SAAQ,CAAGb,WAAW,EAAE,CAC9B,GAAMc,iBAAgB,CAAGb,WAAW,CAAC,SAAAc,KAAK,QAAIA,MAAK,CAACC,SAAS,CAACC,SAAS,GAAC,CACxE,GAAMC,eAAc,CAAGjB,WAAW,CAAC,SAAAc,KAAK,QAAIA,MAAK,CAACC,SAAS,CAACG,OAAO,GAAC,CACpE,cAA4CtB,QAAQ,CAAC,IAAI,CAAC,wCAAnDuB,cAAc,eAAEC,iBAAiB,eACxC,GAAMC,SAAQ,CAAGvB,WAAW,EAAE,CAE9BH,SAAS,CAAC,UAAM,CACZ2B,aAAa,EAAE,CAEf,QAASA,cAAa,EAAE,CACpB,GAAG,CAACT,gBAAgB,EAAII,cAAc,CAAE,OACxCL,QAAQ,CAACN,mBAAmB,EAAE,CAAC,CAE/BiB,aAAa,CAACJ,cAAc,CAAC,CAC7BC,iBAAiB,CAACI,UAAU,CAAC,iBAAMZ,SAAQ,CAACP,mBAAmB,EAAE,CAAC,GAAE,IAAI,CAAC,CAAC,CAC9E,CACJ,CAAC,CAAE,CAACgB,QAAQ,CAAC,CAAC,CAEd,mBACI,MAAC,KAAK,YACD,CAACV,KAAK,CAACc,UAAU,eAAI,KAAC,OAAO,IAAG,cACjC,MAAC,OAAO,YACHd,KAAK,CAACe,QAAQ,CACdT,cAAc,eACX,KAAC,SAAS,EACN,QAAQ,CAAC,UAAU,CACnB,WAAW,CAAE,IAAK,EAEzB,GACK,cACV,KAAC,MAAM,IAAG,GACN,CAEhB"},"metadata":{},"sourceType":"module"}