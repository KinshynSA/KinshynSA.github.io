{"ast":null,"code":"import _regeneratorRuntime from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from\"react\";import{useDispatch}from\"react-redux\";import styled from\"styled-components\";import{TitleAnim,Container,TagsTextDecorator,Form}from\"../../components\";import{sendContactForm}from\"../../service/service\";import{addAlertAction}from\"../../store/alertReducer\";import{hidePreloaderAction,showPreloaderAction}from\"../../store/preloaderReducer\";import useText from\"../../hooks/useText.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TextWrapper=styled(TagsTextDecorator)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nheight: auto;\\n\"])));var TextContent=styled(TagsTextDecorator)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;    \\n\"])));var Title=styled(TagsTextDecorator)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nmargin-bottom: 20px;\\n\\nh1{\\n    margin-bottom: 0;\\n}\\n\"])));var Text=styled(TagsTextDecorator)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));var FormWrapper=styled(TagsTextDecorator)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nmax-width: 600px;\\nmargin-bottom: 20px;\\npadding-bottom: 40px;\\n\"])));export default function ContactPage(){var text=useText();var presetFormFields=[{value:'',name:'name',placeholder:text('contact.form.name'),required:true,width:'calc(50% - 10px)'},{value:'',name:'email',placeholder:text('contact.form.email'),type:'email',required:true,width:'calc(50% - 10px)'},{value:'',name:'message',placeholder:text('contact.form.message'),required:true,type:'textarea'}];var _useState=useState([].concat(presetFormFields)),_useState2=_slicedToArray(_useState,2),formFields=_useState2[0],setFormFields=_useState2[1];var dispatch=useDispatch();return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(TextWrapper,{tag:'html',children:/*#__PURE__*/_jsxs(TextContent,{tag:'body',children:[/*#__PURE__*/_jsx(Title,{tag:'h1',children:/*#__PURE__*/_jsx(TitleAnim,{text:text('contact.text.title')})}),/*#__PURE__*/_jsxs(Text,{tag:\"div\",children:[/*#__PURE__*/_jsx(TagsTextDecorator,{tag:\"p\",children:text('contact.text.p1')}),/*#__PURE__*/_jsx(FormWrapper,{tag:'form',children:/*#__PURE__*/_jsx(Form,{fields:formFields,setFields:setFormFields,sendText:text('contact.form.button'),send:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var obj,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:obj={};formFields.forEach(function(item){if(item.value!==''){obj[item.name]=item.value;}});dispatch(showPreloaderAction());_context.next=5;return sendContactForm(obj);case 5:res=_context.sent;if(res.ok){setFormFields([].concat(presetFormFields));dispatch(addAlertAction({text:text('contact.form.alert.success'),type:'succes'}));}else{dispatch(addAlertAction({text:text('contact.form.alert.error'),type:'error'}));}setTimeout(function(){return dispatch(hidePreloaderAction());},1000);case 8:case\"end\":return _context.stop();}}},_callee);}))})})]})]})})});}","map":{"version":3,"names":["React","useState","useDispatch","styled","TitleAnim","Container","TagsTextDecorator","Form","sendContactForm","addAlertAction","hidePreloaderAction","showPreloaderAction","useText","TextWrapper","TextContent","Title","Text","FormWrapper","ContactPage","text","presetFormFields","value","name","placeholder","required","width","type","formFields","setFormFields","dispatch","obj","forEach","item","res","ok","setTimeout"],"sources":["D:/Repositories/portfolio-website/src/pages/contact/index.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { TitleAnim, Container, TagsTextDecorator, Form } from \"../../components\";\r\nimport {sendContactForm} from \"../../service/service\";\r\nimport { addAlertAction } from \"../../store/alertReducer\";\r\nimport { hidePreloaderAction, showPreloaderAction } from \"../../store/preloaderReducer\";\r\nimport useText from \"../../hooks/useText.js\";\r\n\r\n\r\nconst TextWrapper = styled(TagsTextDecorator)`\r\nheight: auto;\r\n`\r\nconst TextContent = styled(TagsTextDecorator)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;    \r\n`;\r\nconst Title = styled(TagsTextDecorator)`\r\nmargin-bottom: 20px;\r\n\r\nh1{\r\n    margin-bottom: 0;\r\n}\r\n`\r\nconst Text = styled(TagsTextDecorator)``\r\nconst FormWrapper = styled(TagsTextDecorator)`\r\nmax-width: 600px;\r\nmargin-bottom: 20px;\r\npadding-bottom: 40px;\r\n`\r\n\r\n\r\nexport default function ContactPage(){\r\n    const text = useText();\r\n\r\n    const presetFormFields = [\r\n        {\r\n            value: '',\r\n            name: 'name',\r\n            placeholder: text('contact.form.name'),\r\n            required: true,\r\n            width: 'calc(50% - 10px)',\r\n        },\r\n        {\r\n            value: '',\r\n            name: 'email',\r\n            placeholder: text('contact.form.email'),\r\n            type: 'email',\r\n            required: true,\r\n            width: 'calc(50% - 10px)',\r\n        },\r\n        {\r\n            value: '',\r\n            name: 'message',\r\n            placeholder: text('contact.form.message'),\r\n            required: true,\r\n            type: 'textarea',\r\n        }\r\n    ];\r\n    const [formFields, setFormFields] = useState([...presetFormFields]);\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <Container>\r\n            <TextWrapper tag={'html'}>\r\n                <TextContent tag={'body'}>\r\n                    <Title tag={'h1'}>\r\n                        <TitleAnim text={text('contact.text.title')} />\r\n                    </Title>\r\n                    <Text tag=\"div\">\r\n                        <TagsTextDecorator tag=\"p\">{text('contact.text.p1')}</TagsTextDecorator>\r\n                        <FormWrapper tag={'form'}>\r\n                            <Form\r\n                                fields={formFields}\r\n                                setFields={setFormFields}\r\n                                sendText={text('contact.form.button')}\r\n                                send={async () => {\r\n                                    let obj = {};\r\n                                    formFields.forEach(item => {\r\n                                        if(item.value !== ''){\r\n                                            obj[item.name] = item.value;\r\n                                        }                                           \r\n                                    })\r\n\r\n                                    dispatch(showPreloaderAction())\r\n                                    let res = await sendContactForm(obj);\r\n                                    if(res.ok){\r\n                                        setFormFields([...presetFormFields])\r\n                                        dispatch(addAlertAction({\r\n                                            text: text('contact.form.alert.success'),\r\n                                            type: 'succes'\r\n                                        }))\r\n                                    } else {\r\n                                        dispatch(addAlertAction({\r\n                                            text: text('contact.form.alert.error'),\r\n                                            type: 'error'\r\n                                        }))\r\n                                    }\r\n\r\n                                    setTimeout(() => dispatch(hidePreloaderAction()), 1000);                                    \r\n                                }}\r\n                            />\r\n                        </FormWrapper>\r\n                    </Text>\r\n                </TextContent>\r\n            </TextWrapper>\r\n        </Container>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}