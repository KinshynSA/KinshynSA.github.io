{"ast":null,"code":"import _objectSpread from\"D:/Repositories/portfolio-website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export function findFieldForValue(fields,value){var result;fields.forEach(function(item){if(item.hide)return;if(item.type==='block'){var _item$childs;var childs=(_item$childs=item.childs)!==null&&_item$childs!==void 0?_item$childs:[];var intermediateResult=findFieldForValue(childs,value);if(intermediateResult)result=intermediateResult;}else{if(item.value===value)result=item;}});return result;}export function findFieldForName(fields,name){var result;fields.forEach(function(item){if(item.hide)return;if(item.type==='block'){var _item$childs2;var childs=(_item$childs2=item.childs)!==null&&_item$childs2!==void 0?_item$childs2:[];var intermediateResult=findFieldForName(childs,name);if(intermediateResult)result=intermediateResult;}else{if(item.name===name)result=item;}});return result;}export function findFieldsForName(fields,name){var result=[];fields.forEach(function(item,i){if(item.hide)return;if(item.type==='block'){var _item$childs3;var childs=(_item$childs3=item.childs)!==null&&_item$childs3!==void 0?_item$childs3:[];var intermediateResult=findFieldsForName(childs,name);if(intermediateResult.length)result=result.concat(intermediateResult);}else{if(item.name===name){result.push(item);}}});return result;}export function collectValues(fields,preData){var data=_objectSpread({},preData);fields.forEach(function(field){return addValue(field);});return data;function addValue(field){if(field.hide)return;if(field.type==='block'){if(field.childs)field.childs.forEach(function(item){return addValue(item);});}else{if(field.name!==undefined&&field.value!==undefined){if(field.type==='file'){data[field.name]=field.value.join(',');}else if(field.type==='radio'){if(field.checked)data[field.name]=field.value;}else if(field.type==='checkbox'){if(field.checked)data[field.name]=field.value;}else{data[field.name]=field.value;}}}}}export function validateField(field){var value=field.value;field.error=false;switch(field.type){case'select':if(value===undefined)field.error=true;break;case'tel':if(field.mask==='phone'){if(value.replace(/\\D/g,\"\").length!==12)field.error=true;}else{if(!value.length)field.error=true;}break;case'email':var r=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(!r.test(String(value).toLowerCase()))field.error=true;break;case'password':if(value.length<8||value.length>20)field.error=true;break;case'text':if(!value.length)field.error=true;break;case'checkbox':if(!field.checked)field.error=true;break;case'radio':if(!field.checked)field.error=true;break;default:if(!value.length)field.error=true;break;}}export function copyObjectDeep(obj){var o;if(Array.isArray(obj)){o=[];}else{o={};}for(var key in obj){if(typeof obj[key]==='object'&&!obj[key].$$typeof){o[key]=copyObjectDeep(obj[key]);}else{o[key]=obj[key];}}return o;}","map":{"version":3,"names":["findFieldForValue","fields","value","result","forEach","item","hide","type","childs","intermediateResult","findFieldForName","name","findFieldsForName","i","length","concat","push","collectValues","preData","data","field","addValue","undefined","join","checked","validateField","error","mask","replace","r","test","String","toLowerCase","copyObjectDeep","obj","o","Array","isArray","key","$$typeof"],"sources":["D:/Repositories/portfolio-website/src/components/form/utils.js"],"sourcesContent":["export function findFieldForValue(fields,value){\r\n    let result;\r\n    fields.forEach(item => {\r\n        if(item.hide) return;\r\n        if(item.type === 'block'){\r\n            let childs = item.childs ?? [];\r\n            let intermediateResult = findFieldForValue(childs,value)\r\n            if(intermediateResult) result = intermediateResult;\r\n        } else {\r\n            if(item.value === value) result = item;\r\n        }        \r\n    })\r\n    return result;\r\n}\r\n\r\nexport function findFieldForName(fields,name){\r\n    let result;\r\n    fields.forEach(item => {\r\n        if(item.hide) return;\r\n        if(item.type === 'block'){\r\n            let childs = item.childs ?? [];\r\n            let intermediateResult = findFieldForName(childs,name)\r\n            if(intermediateResult) result = intermediateResult;\r\n        } else {\r\n            if(item.name === name) result = item;\r\n        }        \r\n    })\r\n    return result;\r\n}\r\n\r\nexport function findFieldsForName(fields,name){\r\n    let result = [];\r\n    fields.forEach((item,i) => {\r\n        if(item.hide) return;\r\n        if(item.type === 'block'){\r\n            let childs = item.childs ?? [];\r\n            let intermediateResult = findFieldsForName(childs,name)\r\n            if(intermediateResult.length) result = result.concat(intermediateResult);\r\n        } else {\r\n            if(item.name === name){\r\n                result.push(item);\r\n            } \r\n        }        \r\n    })\r\n    return result;\r\n}\r\n\r\nexport function collectValues(fields, preData){\r\n    let data = {...preData};\r\n    fields.forEach(field => addValue(field))\r\n    return data;\r\n\r\n    function addValue(field){\r\n        if(field.hide) return;\r\n        if(field.type === 'block'){\r\n            if(field.childs) field.childs.forEach(item => addValue(item))\r\n        } else {\r\n            if(field.name !== undefined && field.value !== undefined){\r\n                if(field.type === 'file'){\r\n                    data[field.name] = field.value.join(',');\r\n                } else if(field.type === 'radio'){\r\n                    if(field.checked) data[field.name] = field.value;\r\n                } else if(field.type === 'checkbox'){\r\n                    if(field.checked) data[field.name] = field.value;\r\n                } else {\r\n                    data[field.name] = field.value;\r\n                }                \r\n            }        \r\n        }   \r\n    }\r\n}\r\n\r\n\r\nexport function validateField(field){\r\n    let value = field.value;\r\n    field.error = false;\r\n  \r\n    switch (field.type){\r\n      case 'select':\r\n        if(value === undefined) field.error = true;\r\n        break;\r\n      case 'tel':\r\n        if(field.mask === 'phone'){\r\n          if(value.replace(/\\D/g,\"\").length !== 12) field.error = true;\r\n        } else {\r\n          if(!value.length) field.error = true;\r\n        }\r\n        break;\r\n      case 'email':\r\n        const r = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if(!r.test(String(value).toLowerCase())) field.error = true;\r\n        break;\r\n      case 'password':\r\n        if(value.length < 8 || value.length > 20) field.error = true;\r\n        break;\r\n      case 'text':\r\n        if(!value.length) field.error = true;\r\n        break;\r\n      case 'checkbox':\r\n        if(!field.checked) field.error = true;\r\n        break;\r\n      case 'radio':\r\n        if(!field.checked) field.error = true;\r\n        break;\r\n      default:\r\n        if(!value.length) field.error = true;\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\nexport function copyObjectDeep(obj){\r\n    let o;\r\n    if(Array.isArray(obj)){\r\n        o = []\r\n    } else {\r\n        o = {}\r\n    }\r\n\r\n    for(let key in obj){\r\n        if(typeof obj[key] === 'object' && !obj[key].$$typeof){\r\n            o[key] = copyObjectDeep(obj[key])\r\n        } else {\r\n            o[key] = obj[key]\r\n        }\r\n    }\r\n\r\n    return o;\r\n}"],"mappings":"sHAAA,MAAO,SAASA,kBAAiB,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3C,GAAIC,OAAM,CACVF,MAAM,CAACG,OAAO,CAAC,SAAAC,IAAI,CAAI,CACnB,GAAGA,IAAI,CAACC,IAAI,CAAE,OACd,GAAGD,IAAI,CAACE,IAAI,GAAK,OAAO,CAAC,kBACrB,GAAIC,OAAM,eAAGH,IAAI,CAACG,MAAM,6CAAI,EAAE,CAC9B,GAAIC,mBAAkB,CAAGT,iBAAiB,CAACQ,MAAM,CAACN,KAAK,CAAC,CACxD,GAAGO,kBAAkB,CAAEN,MAAM,CAAGM,kBAAkB,CACtD,CAAC,IAAM,CACH,GAAGJ,IAAI,CAACH,KAAK,GAAKA,KAAK,CAAEC,MAAM,CAAGE,IAAI,CAC1C,CACJ,CAAC,CAAC,CACF,MAAOF,OAAM,CACjB,CAEA,MAAO,SAASO,iBAAgB,CAACT,MAAM,CAACU,IAAI,CAAC,CACzC,GAAIR,OAAM,CACVF,MAAM,CAACG,OAAO,CAAC,SAAAC,IAAI,CAAI,CACnB,GAAGA,IAAI,CAACC,IAAI,CAAE,OACd,GAAGD,IAAI,CAACE,IAAI,GAAK,OAAO,CAAC,mBACrB,GAAIC,OAAM,gBAAGH,IAAI,CAACG,MAAM,+CAAI,EAAE,CAC9B,GAAIC,mBAAkB,CAAGC,gBAAgB,CAACF,MAAM,CAACG,IAAI,CAAC,CACtD,GAAGF,kBAAkB,CAAEN,MAAM,CAAGM,kBAAkB,CACtD,CAAC,IAAM,CACH,GAAGJ,IAAI,CAACM,IAAI,GAAKA,IAAI,CAAER,MAAM,CAAGE,IAAI,CACxC,CACJ,CAAC,CAAC,CACF,MAAOF,OAAM,CACjB,CAEA,MAAO,SAASS,kBAAiB,CAACX,MAAM,CAACU,IAAI,CAAC,CAC1C,GAAIR,OAAM,CAAG,EAAE,CACfF,MAAM,CAACG,OAAO,CAAC,SAACC,IAAI,CAACQ,CAAC,CAAK,CACvB,GAAGR,IAAI,CAACC,IAAI,CAAE,OACd,GAAGD,IAAI,CAACE,IAAI,GAAK,OAAO,CAAC,mBACrB,GAAIC,OAAM,gBAAGH,IAAI,CAACG,MAAM,+CAAI,EAAE,CAC9B,GAAIC,mBAAkB,CAAGG,iBAAiB,CAACJ,MAAM,CAACG,IAAI,CAAC,CACvD,GAAGF,kBAAkB,CAACK,MAAM,CAAEX,MAAM,CAAGA,MAAM,CAACY,MAAM,CAACN,kBAAkB,CAAC,CAC5E,CAAC,IAAM,CACH,GAAGJ,IAAI,CAACM,IAAI,GAAKA,IAAI,CAAC,CAClBR,MAAM,CAACa,IAAI,CAACX,IAAI,CAAC,CACrB,CACJ,CACJ,CAAC,CAAC,CACF,MAAOF,OAAM,CACjB,CAEA,MAAO,SAASc,cAAa,CAAChB,MAAM,CAAEiB,OAAO,CAAC,CAC1C,GAAIC,KAAI,kBAAOD,OAAO,CAAC,CACvBjB,MAAM,CAACG,OAAO,CAAC,SAAAgB,KAAK,QAAIC,SAAQ,CAACD,KAAK,CAAC,GAAC,CACxC,MAAOD,KAAI,CAEX,QAASE,SAAQ,CAACD,KAAK,CAAC,CACpB,GAAGA,KAAK,CAACd,IAAI,CAAE,OACf,GAAGc,KAAK,CAACb,IAAI,GAAK,OAAO,CAAC,CACtB,GAAGa,KAAK,CAACZ,MAAM,CAAEY,KAAK,CAACZ,MAAM,CAACJ,OAAO,CAAC,SAAAC,IAAI,QAAIgB,SAAQ,CAAChB,IAAI,CAAC,GAAC,CACjE,CAAC,IAAM,CACH,GAAGe,KAAK,CAACT,IAAI,GAAKW,SAAS,EAAIF,KAAK,CAAClB,KAAK,GAAKoB,SAAS,CAAC,CACrD,GAAGF,KAAK,CAACb,IAAI,GAAK,MAAM,CAAC,CACrBY,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC,CAAGS,KAAK,CAAClB,KAAK,CAACqB,IAAI,CAAC,GAAG,CAAC,CAC5C,CAAC,IAAM,IAAGH,KAAK,CAACb,IAAI,GAAK,OAAO,CAAC,CAC7B,GAAGa,KAAK,CAACI,OAAO,CAAEL,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC,CAAGS,KAAK,CAAClB,KAAK,CACpD,CAAC,IAAM,IAAGkB,KAAK,CAACb,IAAI,GAAK,UAAU,CAAC,CAChC,GAAGa,KAAK,CAACI,OAAO,CAAEL,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC,CAAGS,KAAK,CAAClB,KAAK,CACpD,CAAC,IAAM,CACHiB,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC,CAAGS,KAAK,CAAClB,KAAK,CAClC,CACJ,CACJ,CACJ,CACJ,CAGA,MAAO,SAASuB,cAAa,CAACL,KAAK,CAAC,CAChC,GAAIlB,MAAK,CAAGkB,KAAK,CAAClB,KAAK,CACvBkB,KAAK,CAACM,KAAK,CAAG,KAAK,CAEnB,OAAQN,KAAK,CAACb,IAAI,EAChB,IAAK,QAAQ,CACX,GAAGL,KAAK,GAAKoB,SAAS,CAAEF,KAAK,CAACM,KAAK,CAAG,IAAI,CAC1C,MACF,IAAK,KAAK,CACR,GAAGN,KAAK,CAACO,IAAI,GAAK,OAAO,CAAC,CACxB,GAAGzB,KAAK,CAAC0B,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAACd,MAAM,GAAK,EAAE,CAAEM,KAAK,CAACM,KAAK,CAAG,IAAI,CAC9D,CAAC,IAAM,CACL,GAAG,CAACxB,KAAK,CAACY,MAAM,CAAEM,KAAK,CAACM,KAAK,CAAG,IAAI,CACtC,CACA,MACF,IAAK,OAAO,CACV,GAAMG,EAAC,CAAG,yJAAyJ,CACnK,GAAG,CAACA,CAAC,CAACC,IAAI,CAACC,MAAM,CAAC7B,KAAK,CAAC,CAAC8B,WAAW,EAAE,CAAC,CAAEZ,KAAK,CAACM,KAAK,CAAG,IAAI,CAC3D,MACF,IAAK,UAAU,CACb,GAAGxB,KAAK,CAACY,MAAM,CAAG,CAAC,EAAIZ,KAAK,CAACY,MAAM,CAAG,EAAE,CAAEM,KAAK,CAACM,KAAK,CAAG,IAAI,CAC5D,MACF,IAAK,MAAM,CACT,GAAG,CAACxB,KAAK,CAACY,MAAM,CAAEM,KAAK,CAACM,KAAK,CAAG,IAAI,CACpC,MACF,IAAK,UAAU,CACb,GAAG,CAACN,KAAK,CAACI,OAAO,CAAEJ,KAAK,CAACM,KAAK,CAAG,IAAI,CACrC,MACF,IAAK,OAAO,CACV,GAAG,CAACN,KAAK,CAACI,OAAO,CAAEJ,KAAK,CAACM,KAAK,CAAG,IAAI,CACrC,MACF,QACE,GAAG,CAACxB,KAAK,CAACY,MAAM,CAAEM,KAAK,CAACM,KAAK,CAAG,IAAI,CACpC,MAAM,CAEZ,CAGF,MAAO,SAASO,eAAc,CAACC,GAAG,CAAC,CAC/B,GAAIC,EAAC,CACL,GAAGC,KAAK,CAACC,OAAO,CAACH,GAAG,CAAC,CAAC,CAClBC,CAAC,CAAG,EAAE,CACV,CAAC,IAAM,CACHA,CAAC,CAAG,CAAC,CAAC,CACV,CAEA,IAAI,GAAIG,IAAG,GAAIJ,IAAG,CAAC,CACf,GAAG,MAAOA,IAAG,CAACI,GAAG,CAAC,GAAK,QAAQ,EAAI,CAACJ,GAAG,CAACI,GAAG,CAAC,CAACC,QAAQ,CAAC,CAClDJ,CAAC,CAACG,GAAG,CAAC,CAAGL,cAAc,CAACC,GAAG,CAACI,GAAG,CAAC,CAAC,CACrC,CAAC,IAAM,CACHH,CAAC,CAACG,GAAG,CAAC,CAAGJ,GAAG,CAACI,GAAG,CAAC,CACrB,CACJ,CAEA,MAAOH,EAAC,CACZ"},"metadata":{},"sourceType":"module"}